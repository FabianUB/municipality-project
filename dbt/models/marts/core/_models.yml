version: 2

models:
  - name: dim_municipalities
    description: "Municipality dimension table for analytics"
    tests:
      - unique:
          column_name: "province_code || '-' || municipality_code"
    columns:
      - name: municipality_key
        description: "Surrogate key for municipality"
        tests:
          - unique
          - not_null
      - name: province_code
        description: "Province code"
        tests:
          - not_null
      - name: municipality_code
        description: "Municipality code"
        tests:
          - not_null
      - name: municipality_name
        description: "Municipality name"
        tests:
          - not_null

  - name: dim_provinces
    description: "Province dimension table for analytics"
    columns:
      - name: province_code
        description: "Province code"
        tests:
          - unique
          - not_null
      - name: province_name
        description: "Province name"
        tests:
          - not_null

  - name: dim_time
    description: "Time dimension table for analytics"
    columns:
      - name: year
        description: "Year"
        tests:
          - unique
          - not_null